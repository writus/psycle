{% extends 'psycle.layout.twig' %}

{% block content %}
<div class="posts">
    
    <div class="pagination">
        {% if prevPage %}
        <a href="/all/{{ prevPage }}">newer</a>
        {% endif %}
        {% if nextPage %}
        <a href="/all/{{ nextPage }}">older</a>
        {% endif %}
    </div>
   
    {{ page_title ? '<h1>' ~ page_title ~ '</h1>' }}
    <hr style="border-color:#eee">
    {% for post in posts %}
        <article>
            <div class="post">
                <h2><a href="/{{ post.url }}">{{ post.title }}</a></h2>
                <div class="content">
                    {{ post.body }}
                </div>  
                <div class="article_footer">
                    <span class="tags">{{ post.tags|join(', ') }}</span>
                </div>
            </div>
            <ul class="meta">
                <li class="date"><span class="d">{{ post.date|date('d') }}</span> <span class="m">{{ post.date|date('M') }}</span> <span class="y">{{ post.date|date('Y') }}</span></li>
                {% for category in post.categories %}
                <li class="category">
                    <a href="/{{ category.url }}">{{ category.name }}</a>
                </li>
                {% endfor %}
            </ul>

        </article>
        <hr style="border-color:#eee">
    {% endfor %}
    <div class="pagination">
        {% if prevPage %}
        <a href="/all/{{ prevPage }}">newer</a>
        {% endif %}
        {% if nextPage %}
        <a href="/all/{{ nextPage }}">older</a>
        {% endif %}
    </div>
</div>
{% endblock %}